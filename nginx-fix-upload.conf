# Configuração Nginx para corrigir limite de upload
# Adicione estas linhas no arquivo /etc/nginx/sites-available/assiny

# Dentro do bloco server {
    client_max_body_size 25M;
    client_body_timeout 120s;

    # Específico para a rota de transcrição
    location /api/roleplay/transcribe {
        client_max_body_size 25M;
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_read_timeout 120s;
        proxy_connect_timeout 120s;
        proxy_send_timeout 120s;
    }